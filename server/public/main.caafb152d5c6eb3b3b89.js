(self.webpackChunkcatan_clone=self.webpackChunkcatan_clone||[]).push([[179],{7678:(e,t,r)=>{"use strict";var n=r(7294),o=r(3935),a=r(3727),c=r(5977);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){setUsername(e.target.value)},s=function(e){setRoomName(e.target.value)},m=function(){props.setRoomId(roomName),props.setUsername(username)};const f=function(e){var t=i(n.useState(""),2),r=t[0],o=(t[1],i(n.useState(""),2)),c=o[0];return o[1],n.createElement("div",{className:"home-container"},n.createElement("input",{type:"text",placeholder:"Room",value:r,onChange:s,className:"text-input-field"}),n.createElement("input",{type:"text",placeholder:"Username",value:c,onChange:l,className:"text-input-field"}),n.createElement(a.rU,{to:"/".concat(r),onClick:m,className:"enter-room-button"},"Join room"))};var y=r(5615);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g="newChatMessage";const w=function(e,t){var r,o,a=(r=(0,n.useState)([]),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}(r,o)||p(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],i=a[1],u=(0,n.useRef)();return(0,n.useEffect)((function(){return u.current=(0,y.Z)("http://localhost:3000",{query:{roomId:e,username:t}}),u.current.on(g,(function(e){var t=h(h({},e),{},{ownedByCurrentUser:e.senderId===u.current.id});i((function(e){return[].concat(function(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e),[t])}))})),function(){u.current.disconnect()}}),[e]),{messages:c,sendMessage:function(e){u.current.emit(g,{body:e,senderId:u.current.id})}}};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const A=function(e){var t,r,o=e.roomId,a=e.username,c=w(o,a),i=c.messages,u=c.sendMessage,l=(t=n.useState(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],m=l[1];return n.createElement("div",{className:"chat-container"},n.createElement("div",{className:"chat-header-block"},n.createElement("h1",{className:"room-name"},"Room: ",o),n.createElement("h1",{className:"user-name"},"User: ",a)),n.createElement("div",{className:"messages-container"},n.createElement("ol",{className:"messages-list"},i.map((function(e,t){return n.createElement("li",{key:t,className:"message-item ".concat(e.ownedByCurrentUser?"my-message":"received-message")},n.createElement("div",{className:"message-header username"},e.username),e.body)})))),n.createElement("textarea",{value:s,onChange:function(e){m(e.target.value)},placeholder:"Write message...",className:"new-message-input-field"}),n.createElement("button",{onClick:function(){u(s),m("")},className:"send-message-button"},"Send"))},E=function(e){var t={top:e.position.top,left:e.position.left};return n.createElement("div",{className:"board-piece hex ".concat(e.type),style:t})};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const O=function(e){return useEffect((function(){!function(e){for(var t=[],r=[["50vh","50vw"],["50vh","60vw"],["55vh","55vw"],["50vh","45vw"],["50vh","40vw"],["45vh","45vw"],["45vh","55vw"],["50vh","70vw"],["60vh","60vw"],["70vh","60vw"],["50vh","50vw"],["50vh","60vw"],["50vh","45vw"],["50vh","40vw"],["45vh","45vw"],["45vh","55vw"],["50vh","70vw"],["60vh","60vw"],["70vh","60vw"]],o=0,a=0,c=Object.entries(e);a<c.length;a++)for(var i=(m=c[a],f=2,function(e){if(Array.isArray(e))return e}(m)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}(m,f)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(m,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],l=i[1];l>0;l--){var s={key:"".concat(u).concat(l),type:u,position:{top:r[o][0],left:r[o][1]}};t.push(n.createElement(E,s)),o++}var m,f}({hexes:{lumber:4,clay:3,sheep:4,wheat:4,ore:3,desert:1}}.hexes)}),[]),console.log(hexes),n.createElement("div",null,hexes)};function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const N=function(){var e=I(n.useState(""),2),t=e[0],r=e[1],o=I(n.useState(""),2),i=o[0],u={},l={setRoomId:r,setUsername:o[1]},s={roomId:t,username:i};return n.createElement(a.VK,null,n.createElement(c.rs,null,n.createElement(c.AW,{exact:!0,path:"/"},n.createElement(O,u)),n.createElement(c.AW,{exact:!0,path:"/room"},n.createElement(f,l)),n.createElement(c.AW,{exact:!0,path:"/:roomId"},n.createElement(A,s))))};o.render(n.createElement(N,null),document.querySelector("#root"))}},0,[[3658,666,216],[7678,666,216]]]);
//# sourceMappingURL=main.caafb152d5c6eb3b3b89.js.map